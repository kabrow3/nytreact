(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(57)},55:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),c=a.n(l),s=a(59),i=a(61),o=a(60),u=a(15),m=a(23),d=a(6),h=a(7),p=a(9),f=a(8),b=a(10),E=a(11),v=a.n(E),g={getArticles:function(){return v.a.get("/api/articles")},getArticle:function(e){return v.a.get("/api/articles/"+e)},deleteArticle:function(e){return v.a.delete("/api/articles/"+e)},saveArticle:function(e){return v.a.post("/api/articles",e)},queryNYT:function(e){return v.a.get(e)}},y=a(24),N=a.n(y),Y=function(e){return r.a.createElement("li",{className:"list-group-item"},e.children)},A=function(e){return r.a.createElement("div",{className:"list-group",style:{margin:"30px 0"}},r.a.createElement("a",{href:e.url,className:"bg-dark list-group-item list-group-item-action flex-column align-items-start active",target:"_blank"},r.a.createElement("div",{className:"d-flex w-100 justify-content-between"},r.a.createElement("h5",{className:"mb-1"},e.title),r.a.createElement("small",null,N()(e.date).format("dddd, MMMM Do YYYY, h:mm")))),r.a.createElement(Y,{className:"list-group-item"},r.a.createElement("div",{className:" w-75",style:{display:"inline-block"}},r.a.createElement("h5",{className:"mb-1"},e.summary)),r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example",style:{float:"right"}},r.a.createElement("a",{href:e.url,target:"_blank"},r.a.createElement("button",{type:"button",className:"btn btn-info"},"Read")),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:e.onClick},e.type))))},k=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={navbarHeight:0},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.setState({navbarHeight:document.querySelector(".navbar").clientHeight})}},{key:"render",value:function(){return r.a.createElement("div",{style:{height:200,clear:"both",marginTop:this.state.navbarHeight},className:"jumbotron"},this.props.children)}}]),t}(r.a.Component),j=function(e){return r.a.createElement("h1",e,e.children)},S=function(e){return r.a.createElement("h3",e,e.children)},O=function(e){return r.a.createElement("h4",e,e.children)},w=function(e){var t=e.size,a=e.offset,n=e.children,l=t.split(" ").map(function(e){return"col-"+e}).join(" ")+" "+(a?a.split(" ").map(function(e){return"col-".concat(e.split("-")[0],"-offset-").concat(e.split("-")[1])}).join(" "):"");return r.a.createElement("div",{className:l},n)},x=function(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)},C=function(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)},_=function(e){return r.a.createElement("div",Object.assign({className:"panel panel-primary"},e),e.children)},F=function(e){return r.a.createElement("div",Object.assign({className:"panel-heading clearfix"},e),e.children)},M=function(e){return r.a.createElement("div",Object.assign({className:"panel-body"},e),e.children)},R=function(e){return r.a.createElement("input",Object.assign({className:"form-control"},e))},T=function(e){var t="btn ";switch(e.type){case"primary":t+="btn-primary";break;case"success":t+="btn-success";break;case"info":t+="btn-info";break;case"warning":t+="btn-warning";break;case"danger":t+="btn-danger";break;case"link":t+="btn-link";break;case"default":t+="btn-default"}return t+=" "+e.additional,r.a.createElement("button",Object.assign({},e,{className:t}),e.children)},I=function(e){return r.a.createElement("label",Object.assign({htmlFor:e.htmlFor},e),e.children)},z=function(e){return r.a.createElement("div",Object.assign({className:"form-group"},e),e.children)},H=function(e){return r.a.createElement("form",e,e.children)},q=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={topic:"",sYear:"",eYear:"",page:"0",results:[],previousSearch:{},noResults:!1},a.saveArticle=function(e){var t={date:e.pub_date,title:e.headline.main,url:e.web_url,summary:e.snippet};g.saveArticle(t).then(function(e){var n=a.state.results.filter(function(e){return e.headline.main!==t.title});a.setState({results:n})}).catch(function(e){return console.log(e)})},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(m.a)({},n,r))},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n={topic:t.topic,sYear:t.sYear,eYear:t.eYear};a.getArticles(n)},a.getArticles=function(e){e.topic===a.state.previousSearch.topic&&e.eYear===a.state.previousSearch.eYear&&e.sYear===a.state.previousSearch.sYear||a.setState({results:[]});var t=e.topic,n=e.sYear,r=e.eYear,l="https://api.nytimes.com/svc/search/v2/articlesearch.json?sort=newest&page=".concat(a.state.page);t.indexOf(" ")>=0&&(t=t.replace(/\s/g,"+")),t&&(l+="&fq=".concat(t)),n&&(l+="&begin_date=".concat(n)),r&&(l+="&end_date=".concat(r)),l+="&api-key=a9257b04f6e84033a42b8bdedbdd3b2a",g.queryNYT(l).then(function(t){a.setState({results:Object(u.a)(a.state.results).concat(Object(u.a)(t.data.response.docs)),previousSearch:e,topic:"",sYear:"",eYear:""},function(){0===this.state.results.length?this.setState({noResults:!0}):this.setState({noResults:!1})})}).catch(function(e){return console.log(e)})},a.getMoreResults=function(){var e=a.state.previousSearch,t={topic:e.topic,eYear:e.eYear,sYear:e.sYear},n=a.state.page;n++,a.setState({page:n},function(){this.getArticles(t)})},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(x,{fluid:!0},r.a.createElement(C,null,r.a.createElement(w,{size:"sm-10",offset:"sm-1"},r.a.createElement(k,null,r.a.createElement(j,{className:"page-header text-center"},"Search for NYT Articles"),r.a.createElement(O,{className:"text-center"},"Save articles you find interesting")),r.a.createElement(_,null,r.a.createElement(F,null,r.a.createElement(S,null,"Search")),r.a.createElement(M,null,r.a.createElement(H,{style:{marginBottom:"30px"}},r.a.createElement(z,null,r.a.createElement(I,{htmlFor:"topic"},"Enter a topic to search for:"),r.a.createElement(R,{onChange:this.handleInputChange,name:"topic",value:this.state.topic,placeholder:"Topic"})),r.a.createElement(z,null,r.a.createElement(I,{htmlFor:"sYear"},"Enter a beginning date to search for (optional):"),r.a.createElement(R,{onChange:this.handleInputChange,type:"date",name:"sYear",value:this.state.sYear,placeholder:"Start Year"})),r.a.createElement(z,null,r.a.createElement(I,{htmlFor:"eYear"},"Enter an ending date to search for (optional):"),r.a.createElement(R,{onChange:this.handleInputChange,type:"date",name:"eYear",value:this.state.eYear,placeholder:"End Year"})),r.a.createElement(T,{disabled:!this.state.topic,onClick:this.handleFormSubmit,type:"info"},"Submit")))),this.state.noResults?r.a.createElement(j,null,"No results Found.  Please try again"):this.state.results.length>0?r.a.createElement(_,null,r.a.createElement(F,null,r.a.createElement(S,null,"Results")),r.a.createElement(M,null,this.state.results.map(function(t,a){return r.a.createElement(A,{key:a,title:t.headline.main,url:t.web_url,summary:t.snippet,date:t.pub_date,type:"Save",onClick:function(){return e.saveArticle(t)}})}),r.a.createElement(T,{type:"warning",additional:"btn-block",onClick:this.getMoreResults},"Get more results"))):"")))}}]),t}(n.Component),D=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={savedArticles:[]},a.loadArticles=function(){g.getArticles().then(function(e){a.setState({savedArticles:e.data})})},a.deleteArticle=function(e){g.deleteArticle(e).then(function(t){var n=a.state.savedArticles.filter(function(t){return t._id!==e});a.setState({savedArticles:n}),a.loadArticles()}).catch(function(e){return console.log(e)})},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){this.loadArticles()}},{key:"render",value:function(){var e=this;return r.a.createElement(x,{fluid:!0},r.a.createElement(C,null,r.a.createElement(w,{size:"sm-10",offset:"sm-1"},r.a.createElement(k,null,r.a.createElement(j,{className:"text-center"},"Saved New York Times Articles"),r.a.createElement("hr",{style:{width:"60%"}})),r.a.createElement(_,null,r.a.createElement(F,null,r.a.createElement(S,null,"Saved Articles")),r.a.createElement(M,null,this.state.savedArticles.length>0?this.state.savedArticles.map(function(t,a){return r.a.createElement(A,{key:a,title:t.title,url:t.url,summary:t.summary,date:t.date,type:"Delete",onClick:function(){return e.deleteArticle(t._id)}})}):r.a.createElement(j,null,"You have no saved articles."))))))}}]),t}(n.Component),B=function(){return r.a.createElement(x,{fluid:!0},r.a.createElement(C,null,r.a.createElement(w,{size:"sm-10",offset:"sm-1"},r.a.createElement(k,null,r.a.createElement(j,{className:"text-center"},"Something went wrong...probably 404"),r.a.createElement(j,{className:"text-center"},r.a.createElement("span",{role:"img","aria-label":"Uh Oh"},"\ud83d\ude44",r.a.createElement("br",null)))))))},J=a(58),G=function(){return r.a.createElement("nav",{className:"navbar navbar-dark bg-primary",style:{position:"fixed",zIndex:100,width:"100%"}},r.a.createElement(J.a,{className:"navbar-brand",to:"/"},"New York Times Article Search"),r.a.createElement("ul",{className:"navbar-nav",style:{float:"right"}},r.a.createElement("li",{className:"nav-item"},r.a.createElement(J.a,{to:"/"},r.a.createElement("button",{type:"button",className:"btn btn-info btn-rounded btn-success"},"Home"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(J.a,{to:"/savedArticles"},r.a.createElement("button",{type:"button",className:"btn btn-info rounded btn-danger"},"Saved Articles")))))},P=function(){return r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(G,null),r.a.createElement(i.a,null,r.a.createElement(o.a,{exact:!0,path:"/",component:q}),r.a.createElement(o.a,{exact:!0,path:"/articles",component:q}),r.a.createElement(o.a,{exact:!0,path:"/savedArticles",component:D}),r.a.createElement(o.a,{component:B}))))};a(55);c.a.render(r.a.createElement(P,null),document.getElementById("root"))}},[[27,2,1]]]);
//# sourceMappingURL=main.a43feb0e.chunk.js.map